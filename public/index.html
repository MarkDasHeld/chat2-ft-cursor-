<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Simple Chat</title>
    <style>
      /* Theme variables */
      :root { --bg: #ffffff; --text: #111827; --muted: #6b7280; --panel: #ffffff; --border: #e5e7eb; --primary: #111827; --msg-bg: #ffffff; --header-bg: #111827; --header-fg: #ffffff; --button-bg: #111827; --button-fg: #ffffff; }

      /* Light */
      body.theme-light { --bg: #ffffff; --text: #111827; --muted: #6b7280; --panel: #ffffff; --border: #e5e7eb; --primary: #111827; --msg-bg: #ffffff; --header-bg: #111827; --header-fg: #ffffff; --button-bg: #111827; --button-fg: #ffffff; }

      /* Dark Blue */
      body.theme-dark-blue { --bg: #0b0f16; --text: #e5e7eb; --muted: #9ca3af; --panel: #121826; --border: #1f2937; --primary: #0ea5e9; --msg-bg: #0f172a; --header-bg: #0ea5e9; --header-fg: #ffffff; --button-bg: #0ea5e9; --button-fg: #0b0f16; }

      /* Inverted (high-contrast flipped) */
      body.theme-inverted { --bg: #0e0e0e; --text: #f5f5f5; --muted: #d1d1d1; --panel: #151515; --border: #2d2d2d; --primary: #f5f5f5; --msg-bg: #121212; --header-bg: #f5f5f5; --header-fg: #111111; --button-bg: #f5f5f5; --button-fg: #111111; }

      /* Deep Violet */
      body.theme-violet { --bg: #0b0614; --text: #ece7ff; --muted: #b9b3d9; --panel: #130a22; --border: #2a1f44; --primary: #7c3aed; --msg-bg: #1a0f2e; --header-bg: #7c3aed; --header-fg: #ffffff; --button-bg: #7c3aed; --button-fg: #0b0614; }

      * { box-sizing: border-box; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 0; height: 100vh; display: flex; flex-direction: column; background: var(--bg); color: var(--text); }
      header { padding: 12px 16px; background: var(--header-bg); color: var(--header-fg); display: flex; align-items: center; gap: 12px; justify-content: space-between; }
      header .left { display: flex; align-items: center; gap: 12px; }
      main { flex: 1; display: flex; min-height: 0; }
      #sidebar { width: 260px; border-right: 1px solid var(--border); padding: 12px; display: flex; flex-direction: column; gap: 10px; background: var(--panel); }
      #content { flex: 1; display: flex; flex-direction: column; min-width: 0; }
      #messages { flex: 1; overflow: auto; padding: 12px; background: var(--bg); }
      .msg { margin-bottom: 10px; padding: 8px 10px; background: var(--msg-bg); border: 1px solid var(--border); border-radius: 8px; max-width: 70%; box-shadow: 0 1px 1px rgba(0,0,0,0.04); }
      .meta { color: var(--muted); font-size: 12px; margin-bottom: 2px; }
      #composer { display: flex; gap: 8px; padding: 10px; border-top: 1px solid var(--border); background: var(--panel); }
      input, button, select { font: inherit; }
      input[type="text"] { padding: 8px 10px; border: 1px solid var(--border); background: var(--bg); color: var(--text); border-radius: 8px; }
      #name { width: 100%; max-width: 100%; }
      #text { flex: 1; }
      #saveName, #send { padding: 8px 12px; border: 1px solid var(--button-bg); background: var(--button-bg); color: var(--button-fg); border-radius: 8px; cursor: pointer; }
      #saveStatus { font-size: 12px; color: #10b981; height: 16px; }
      button:disabled { opacity: 0.6; cursor: not-allowed; }
      .presence { font-size: 12px; color: var(--header-fg); }
      .row { display: flex; gap: 8px; align-items: center; }
      .col { display: flex; flex-direction: column; gap: 8px; }
      label { font-size: 12px; color: var(--muted); }
      .section-title { font-size: 12px; color: var(--muted); }
      select { padding: 8px 10px; border: 1px solid var(--border); background: var(--bg); color: var(--text); border-radius: 8px; }
    </style>
  </head>
  <body class="theme-light">
    <header>
      <div class="left">
        <div>Simple Chat</div>
      </div>
      <div class="presence" id="presence">â€”</div>
    </header>
    <main>
      <aside id="sidebar">
        <div class="col">
          <label for="name">Display name</label>
          <div class="row" style="gap: 8px; align-items: stretch;">
            <input id="name" type="text" placeholder="Your name" maxlength="32" />
            <button id="saveName">Save name</button>
          </div>
          <div id="saveStatus"></div>
        </div>
        <div class="col" style="margin-top: 8px;">
          <div class="section-title">Themes</div>
          <select id="themeSelect" aria-label="Themes">
            <option value="theme-light">Light</option>
            <option value="theme-dark-blue">Dark Blue</option>
            <option value="theme-inverted">Inverted</option>
            <option value="theme-violet">Deep Violet</option>
          </select>
        </div>
        <div style="margin-top: 4px; font-size: 12px; color: var(--muted);">All messages are ephemeral (in-memory only).</div>
      </aside>
      <section id="content">
        <div id="messages"></div>
        <div id="composer">
          <input id="text" type="text" placeholder="Type a message" maxlength="1000" />
          <button id="send">Send</button>
        </div>
      </section>
    </main>
    <script src="/client.js" type="module"></script>
  </body>
</html>
